---
const { kits } = Astro.props;

const currencies = kits.reduce((allCurrencies, kit) => {
  Object.keys(kit.price).forEach((currency) => {
    if (!allCurrencies.includes(currency)) {
      allCurrencies.push(currency);
    }
  });
  return allCurrencies;
}, []);
---

<table class="text-base">
  <thead>
    <tr>
      <th>Name</th>
      {
        currencies.map((currency) => {
          return <th class="text-align-right">{currency}</th>;
        })
      }
    </tr>
  </thead>
  <tbody>
    {
      kits.map((kit) => {
        return (
          <tr>
            <td class="word-break">{kit.name}</td>
            {currencies.map((currency) => {
              return <td class="text-align-right">{kit.price[currency]}</td>;
            })}
          </tr>
        );
      })
    }
  </tbody>
</table>
<style>
  table {
    border-collapse: collapse;
    width: 100%;
  }
  td,
  th {
    border: 1px solid #dddddd;
    text-align: left;
    padding: 8px;
  }

  tr:nth-child(even) {
    background-color: #eaeaea;
  }
  .text-align-right {
    text-align: right;
  }
</style>
